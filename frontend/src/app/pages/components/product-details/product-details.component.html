<div [ngClass]="{'wrapper': true, 'page-loading': isLoading}">
    <mat-card *ngIf="!isLoading" class="product-card">
        <img mat-card-image src="{{product.imageUrl}}" alt="Photo of a Product">
        <mat-card-title>
            <p class="title">
                {{product.title}}
            </p>
        </mat-card-title>
        <mat-card-content>
            <p class="title">
                {{product.description}}
            </p>
            <div *ngIf="product.quantity < 4 && product.quantity > 0">
                <h4 class="last-items" *ngIf="product.quantity > 1; else elseBlock">Last
                    {{product.quantity}} items</h4>
                <ng-template #elseBlock>
                    <h4 class="last-items">Last item</h4>
                </ng-template>
            </div>
        </mat-card-content>
        <mat-card-footer>
            <div class="footer">
                <span class="price">{{product.price.toFixed(2) + ' BGN.'}}</span>

                <div *ngIf="product.quantity > 0" class="btn add-to-cart">
                    <button mat-raised-button color="primary" (click)="handleAddToCartClick(product._id)">
                        <mat-icon>add_shopping_cart</mat-icon>
                        ADD TO CART
                    </button>
                </div>
            </div>
        </mat-card-footer>
        <div *ngIf="product.quantity === 0" class="overlay">
            <h4 class="stock-title">OUT OF STOCK</h4>
        </div>
    </mat-card>
</div>